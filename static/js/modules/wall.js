define(function() {
    var $ = require('./common');
    var wall = function(){
    	this.all = [
    	]
    }
    $(".map-main").append("<div id='wall'></div>");
    /**
     * 显示墙的位置
     */
    wall.prototype.set = function(_left,_top){
        var svg = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="图形" x="0px" y="0px" width="1024px" height="1024px" viewBox="0 0 1024 1024" enable-background="new 0 0 1024 1024" xml:space="preserve"><path class="svgpath" data-index="path_0" fill="#272636" d="M959.381795 213.313294c0-82.421174-66.815755-149.236929-149.236929-149.236929L213.225801 64.076364c-82.421174 0-149.236929 66.815755-149.236929 149.236929l0 596.919065c0 82.421174 66.815755 149.236929 149.236929 149.236929L810.144866 959.469288c82.421174 0 149.236929-66.815755 149.236929-149.236929L959.381795 213.313294zM884.680443 784.03879c0 56.196906-45.556569 101.753475-101.752452 101.753475L239.41937 885.792265c-56.195883 0-101.752452-45.556569-101.752452-101.753475L137.666918 240.531192c0-56.196906 45.556569-101.753475 101.752452-101.753475l543.509644 0c56.195883 0 101.752452 45.556569 101.752452 101.753475L884.681466 784.03879z"/><path class="svgpath" data-index="path_1" fill="#272636" d="M797.924543 351.166965c9.869788 0 17.869996-8.010441 17.869996-17.869996l0-17.869996c0-9.876951-8.000208-17.869996-17.869996-17.869996l-261.597997 0c1.535983-2.635013 2.478448-5.671163 2.478448-8.934486l0-62.546521c0-9.877975-8.001231-17.869996-17.871019-17.869996l-17.869996 0c-9.869788 0-17.869996 7.993045-17.869996 17.869996l0 62.546521c0 3.263323 0.942465 6.300496 2.477424 8.934486l-261.597997 0c-9.868765 0-17.869996 7.993045-17.869996 17.869996l0 17.869996c0 9.860579 8.001231 17.869996 17.869996 17.869996l80.416518 0 0 116.157533-80.416518 0c-9.868765 0-17.869996 7.993045-17.869996 17.869996l0 17.869996c0 9.859555 8.001231 17.869996 17.869996 17.869996L485.193982 520.934486l0 116.157533L226.074434 637.09202c-9.868765 0-17.869996 7.993045-17.869996 17.869996l0 17.871019c0 9.860579 8.001231 17.869996 17.869996 17.869996l80.416518 0 0 125.09202 53.611012 0L360.101963 690.703031l303.796074 0 0 125.09202 53.611012 0L717.509049 690.703031l80.416518 0c9.869788 0 17.869996-8.009418 17.869996-17.869996l0-17.871019c0-9.876951-8.000208-17.869996-17.869996-17.869996L538.804994 637.09202 538.804994 520.93551l259.119549 0c9.869788 0 17.869996-8.010441 17.869996-17.869996l0-17.869996c0-9.877975-8.000208-17.869996-17.869996-17.869996l-80.416518 0L717.508026 351.166965 797.924543 351.166965zM663.897014 467.324498 360.10094 467.324498 360.10094 351.166965l303.796074 0L663.897014 467.324498z"/></svg>';
    	$("#wall").append("<div class='wall'>"+svg+"</div>");
    	$("#wall .wall:last-child").css({
    		top : _top*30 + "px",
    		left : _left*30 + "px",
    	});
    };
    /**
     * 添加墙
     */
    wall.prototype.add = function(_x,_y){
    	for(var i = 0;i < this.all.length;i++){
    		if(this.all[i][0] == _x && this.all[i][1] == _y){
    			console.log("墙位置重复");
    			return false;
    		}
    	}
    	this.all.push([_x,_y]);
    	this.set(_x,_y);
    }
    wall.prototype.getAll = function(){
    	return this.all;
    }
    return wall;
})
